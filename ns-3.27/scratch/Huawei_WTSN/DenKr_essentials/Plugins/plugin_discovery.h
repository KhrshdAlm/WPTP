/*
 * plugin_discovery.h
 *
 *  Created on: 26.07.2017
 *      Author: Dennis Krummacker
 */

#ifndef DENKR_ESSENTIALS__PLUGINS__PLUGIN_DISCOVERY_H
#define DENKR_ESSENTIALS__PLUGINS__PLUGIN_DISCOVERY_H


//==================================================================================================//
//////////////////////////////////////////////////////////////////////////////////////////////////////
//--------------------------------------------------------------------------------------------------//
//--------  Preamble, Inclusions  ------------------------------------------------------------------//
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//
//==================================================================================================//
// At first include this ----------------------------------------------------------
//---------------------------------------------------------------------------------
//#include <global/global_settings.h>
// Then better start with this  ---------------------------------------------------
//---------------------------------------------------------------------------------
//#include "DenKrement.h"
//==================================================================================================//
//==================================================================================================//
//==================================================================================================//
//Just to nicely keep order:  -----------------------------------------------------
//   First include the System / Third-Party Headers  ------------------------------
//   Format: Use <NAME> for them  -------------------------------------------------
//---------------------------------------------------------------------------------
//#include <dlfcn.h>
//#include <stdint.h>
//#include <errno.h>
//==================================================================================================//
//==================================================================================================//
//==================================================================================================//
//Then include own Headers  -------------------------------------------------------
//   Format: Use "NAME" for them  -------------------------------------------------
//---------------------------------------------------------------------------------
//#include "../PreC/DenKr_PreC.h"
//#include "../DenKr_errno.h"
//#include "../auxiliary.h"
//#include "function_creator.h"
//#include "getRealTime.h"
//#include "Program_Files/P_Files_Path.h"
#include "plugin_management.h"
//==================================================================================================//
//==================================================================================================//
//////////////////////////////////////////////////////////////////////////////////////////////////////
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//





//////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////
//==================================================================================================//
//--------------------------------------------------------------------------------------------------//
//----  Definitions  -------------------------------------------------------------------------------//
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//
#define DENKR_PLUGIN_DISC_INIT_FUNC_PREFIX init_
#define DENKR_PLUGIN_DISC_INIT_FUNC_PREFIX_STR STRINGIFY(DENKR_PLUGIN_DISC_INIT_FUNC_PREFIX)
// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// - -   Signatures   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
//Signature of the "Initialization-Function" every Plugin has to implement. This get's called by
// the Discoverer at Load & Registration Phase. The Function inside the Plugin has to implement
// the Registration (using the provided Function from "plugin_discovery.c")
// The Function get's only a Pointer to the PluginManager passed.
typedef int (*PluginInitFunc)(PluginManager*);
// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// - -   Structures   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
//----------------------------------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////////////////////////////
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//
//////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////







//////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////
//==================================================================================================//
//--------------------------------------------------------------------------------------------------//
//----  Functions to be visible outside  -----------------------------------------------------------//
//----      (external)  ----------------------------------------------------------------------------//
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//
// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#define DENKR_DL_LIBS_PLUGIN_DISCOVER_FOLDER_SIGNATURE int DL_Libs_plugins_discover_folder(PluginManager* plugman,char *path_pref, int path_pref_len, char *path_sub, int path_sub_len)
//----------------------------------------------------------------------------------------------------
#ifndef NO_DENKR_ESSENTIALS__PLUGINS__PLUGIN_DISCOVERY_C_FUNCTIONS
extern DENKR_DL_LIBS_PLUGIN_DISCOVER_FOLDER_SIGNATURE;
#endif
//----------------------------------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////////////////////////////
//--------------------------------------------------------------------------------------------------//
//==================================================================================================//
//////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////








#endif /* DENKR_ESSENTIALS__PLUGINS__PLUGIN_DISCOVERY_H */
